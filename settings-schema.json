{
    "title": "settings",
    "description": "JSON schema for the configuration of the CRF Heat Map",
    "overview": "The most straightforward way to customize the CRF Heat Map is by using a configuration object whose properties describe the behavior and appearance of the table.  Since the CRF Heat Map is a Webcharts `table` object, many default Webcharts settings are set in the [webchartsSettings.js file](https://github.com/RhoInc/crf-heat-map/blob/master/src/configuration/webchartsSettings.js) as [described below](#webcharts-settings).  Refer to the [Webcharts documentation](https://github.com/RhoInc/Webcharts/wiki/Chart-Configuration) for more details on these settings.\nIn addition to the standard Webcharts settings several custom settings not available in the base Webcharts library have been added to the CRF Heat Map to facilitate data mapping and other custom functionality.  These custom settings are described in detail below and are set in the [rendererSettings.js file](https://github.com/RhoInc/crf-heat-map/blob/master/src/configuration/rendererSettings.js).  All defaults can be overwritten by the passed configuration object.",
    "version": "1.2.0",
    "type": "object",
    "properties": {
      "site_col" : {
        "title": "Site Column",
        "description": "Specifies variable for use as site ID",
        "type": "string",
        "default": "sitename"
      },
      "id_col" : {
        "title": "Subject ID Column",
        "description": "Specifies variable for use as subject ID",
        "type": "string",
        "default": "subjectnameoridentifier"
      },
      "visit_col" : {
        "title": "Visit Column",
        "description": "Specifies variable for use as Visit ID",
        "type": "string",
        "default": "folderinstancename"
      },
      "form_col" : {
        "title": "Form Column",
        "description": "Specifies variable for use as Form ID",
        "type": "string",
        "default": "ecrfpagename"
      },
      "id_freeze_col" : {
        "title": "Subject Freeze Column",
        "description": "Specifies variable for subject-level freeze status",
        "type": "string",
        "default": "subjfreezeflg"
      },
      "id_status_col" : {
        "title": "Subject Status Column",
        "description": "Specifies variable for subject status",
        "type": "string",
        "default": "status"
      },
        "nestings": {
            "title": "Data Nesting",
            "description": "an array of objects specifying the variables to nest the data by for calculations",
            "type": "array",
            "items": {
                "type": "object",
                "properties":{
                  "settings_col":{
                      "title":"Settings Column",
                      "type":"string"
                  },
                    "value_col":{
                        "title":"Value Column",
                        "type":"string"
                    },
                    "label":{
                        "title":"Label",
                        "type":"string"
                    },
                    "default_nesting":{
                        "title":"Default Nesting",
                        "type":"boolean"
                    }
                }
            },
            "default": [
                {
                    "settings_col": "site_col",
                    "value_col" : null,
                    "label": "Site",
                    "default_nesting": true
                },
                {
                    "settings_col": "id_col",
                    "value_col" : null,
                    "label": "Subject ID",
                    "default_nesting": true
                },
                {
                    "settings_col": "visit_col",
                    "value_col" : null,
                    "label": "Folder",
                    "default_nesting": false
                },
                {
                    "settings_col": "form_col",
                    "value_col" : null,
                    "label": "Form",
                    "default_nesting": false
                }
            ]
        },
        "value_cols": {
            "title": "CRF Flags",
            "description": "binary CRF flags and query frequencies that capture some status related to the case report form (CRF)",
            "type": "array",
            "items": {
                "title": "Variable Name",
                "description": "the name of the CRF flag or query frequency variable",
                "type": "string"
            },
            "default": [
                "is_partial_entry",
                "verified",
                "ready_for_freeze",
                "is_frozen",
                "is_signed",
                "is_locked",
                "open_query_ct",
                "answer_query_ct"
            ]
        },
        "filter_cols": {
            "title": "Data Filters",
            "description": "variables in the data with which to filter the data",
            "type": "array",
            "items": {
                "title": "Variable Name",
                "description": "the name of the filter variable",
                "type": "string"
            },
            "default": [
                "subset1",
                "subset2",
                "subset3"
            ]
        },
        "display_cell_annotations": {
            "title": "Display Cell Annotations",
            "description": "displays cell annotations always or only on hover",
            "type": "boolean",
            "default": true
        },
        "expand_all": {
            "title": "Expand All Rows",
            "description": "expands all nests so that no rows are hidden",
            "type": "boolean",
            "default": false
        }
    }
}
